<html>
<head>
<link rel="manifest" id="my-manifest" />
<link rel="manifest" href="manifest.webmanifest" />
<script>
      window.addEventListener('load', function() {
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.register("/serviceWorker.js")
            .then(function(registration) {
              console.log("serviceWorker registed.");
            }).catch(function(error) {
              console.warn("serviceWorker error.", error);
            });
        }
      });

var setAppName = function() {
    var appName = document.getElementById("textbox").value;

    var manifest = {
      "name": "Sample Application",
      "short_name": appName,
      "theme_color": "#2196f3",
      "background_color": "#2196f3",
      "display": "standalone",
      "start_url": "/",
       "icons": [
       {
       	"src": "./android-icon-192x192-dunplab-manifest-36126.png",
       	"type": "image/png",
       	"sizes": "192x192"
       },
       {
       	"src": "./apple-icon-180x180-dunplab-manifest-36126.png",
       	"type": "image/png",
       	"sizes": "180x180"
       },
       {
       	"src": "./apple-icon-152x152-dunplab-manifest-36126.png",
       	"type": "image/png",
       	"sizes": "152x152"
       },
       {
       	"src": "./apple-icon-144x144-dunplab-manifest-36126.png",
       	"type": "image/png",
       	"sizes": "144x144"
       },
       {
       	"src": "./apple-icon-120x120-dunplab-manifest-36126.png",
       	"type": "image/png",
       	"sizes": "120x120"
       },
       {
       	"src": "./apple-icon-114x114-dunplab-manifest-36126.png",
       	"type": "image/png",
       	"sizes": "114x114"
       },
       {
       	"src": "./favicon-96x96-dunplab-manifest-36126.png",
       	"type": "image/png",
       	"sizes": "96x96"
       },
       {
       	"src": "./apple-icon-76x76-dunplab-manifest-36126.png",
       	"type": "image/png",
       	"sizes": "76x76"
       },
       {
       	"src": "./apple-icon-72x72-dunplab-manifest-36126.png",
       	"type": "image/png",
       	"sizes": "72x72"
       },
       {
       	"src": "./apple-icon-60x60-dunplab-manifest-36126.png",
       	"type": "image/png",
       	"sizes": "60x60"
       },
       {
       	"src": "./apple-icon-57x57-dunplab-manifest-36126.png",
       	"type": "image/png",
       	"sizes": "57x57"
       },
       {
       	"src": "./favicon-32x32-dunplab-manifest-36126.png",
       	"type": "image/png",
       	"sizes": "32x32"
       },
       {
       	"src": "./favicon-16x16-dunplab-manifest-36126.png",
       	"type": "image/png",
       	"sizes": "16x16"
       }
       ]
    };

    const stringManifest = JSON.stringify(manifest);
    const blob = new Blob([stringManifest], {type: 'application/json'});
    const manifestURL = URL.createObjectURL(blob);
    document.querySelector('#my-manifest').setAttribute('href', manifestURL);
}

</script>
<script async src="https://cdn.jsdelivr.net/npm/pwacompat@2.0.6/pwacompat.min.js" integrity="sha384-GOaSLecPIMCJksN83HLuYf9FToOiQ2Df0+0ntv7ey8zjUHESXhthwvq9hXAZTifA" crossorigin="anonymous">
</script>
</head>
<body>
<form>
<input type="text" id="textbox">
<input type="button" onclick="setAppName();" value="OK">
</form>
</body>
</html>